import{$ as q,$a as ee,Ca as n,Da as p,Ea as v,F as P,Ha as g,I as M,Ia as _,Ja as c,K as f,Ka as u,La as y,Ma as z,N as V,O as j,Oa as k,P as H,Pa as I,Ra as w,Xa as K,Ya as X,Za as Y,_ as s,_a as Z,ab as te,bb as ie,ca as A,cb as oe,d as F,db as ne,e as N,eb as re,fb as me,gb as se,h as B,ha as d,hb as ae,ib as E,j as L,la as x,lb as le,ma as Q,mb as S,na as W,nb as pe,oa as G,pa as U,qa as t,r as O,ra as i,sa as b,ta as J,ub as ce,wa as R,wb as de,y as $,ya as C}from"./chunk-F7MMGASU.js";var Re=m=>["/room",m];function ge(m,o){if(m&1&&(t(0,"tr",2)(1,"td"),n(2),c(3,"percent"),i(),t(4,"td"),n(5),i(),t(6,"td"),n(7),i(),t(8,"td"),n(9),i(),t(10,"td"),n(11),c(12,"lowercase"),i(),t(13,"td"),n(14),c(15,"currency"),i(),t(16,"td"),n(17),c(18,"date"),i(),t(19,"td"),n(20),c(21,"date"),i(),t(22,"td"),n(23),c(24,"number"),i(),t(25,"td")(26,"button",3),n(27,"Select"),i()()()),m&2){let l=o.$implicit,e=o.even,r=o.index;d("ngClass",e?"even":"odd"),s(2),p(u(3,11,r)),s(3),p(e?"Even":"Odd"),s(2),p(l.roomNumber),s(2),p(l.roomType),s(2),p(u(12,13,l.amenities)),s(3),p(y(15,15,l.price,"NTD")),s(3),p(y(18,18,l.checkinTime,"dd/MM")),s(3),p(y(21,21,l.checkoutTime,"dd/MM")),s(3),p(y(24,24,l.rating,"1.0-0")),s(3),d("routerLink",_(27,Re,l.roomNumber))}}var ue=(()=>{let o=class o{constructor(){this.rooms=[],this.title="",this.selectedRoom=new A}selectRoom(e){this.selectedRoom.emit(e)}ngOnChanges(e){console.log(e),e.title&&(this.title=e.title.currentValue.toUpperCase())}ngOnDestroy(){console.log("RoomListComponent destroyed")}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=f({type:o,selectors:[["app-room-list"]],inputs:{rooms:"rooms",title:"title"},outputs:{selectedRoom:"selectedRoom"},standalone:!0,features:[V,g],decls:27,vars:2,consts:[[1,"table","table-primary","table-hover"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"btn","btn-primary",3,"routerLink"]],template:function(r,a){r&1&&(t(0,"h2"),n(1),i(),t(2,"table",0)(3,"thead")(4,"tr")(5,"th"),n(6,"Index"),i(),t(7,"th"),n(8,"Even/Odd"),i(),t(9,"th"),n(10,"Room Number"),i(),t(11,"th"),n(12,"Room Type"),i(),t(13,"th"),n(14,"Room Amenities"),i(),t(15,"th"),n(16,"Room Price"),i(),t(17,"th"),n(18,"Checkin Time"),i(),t(19,"th"),n(20,"Checkout Time"),i(),t(21,"th"),n(22,"Rating"),i(),t(23,"th"),n(24,"Select Room"),i()()(),t(25,"tbody"),x(26,ge,28,29,"tr",1),i()()),r&2&&(s(1),p(a.title),s(25),d("ngForOf",a.rooms))},dependencies:[E,K,X,te,re,me,se,oe,de],changeDetection:0});let m=o;return m})();var T=(()=>{let o=class o{constructor(){this.title=""}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=f({type:o,selectors:[["app-header"]],standalone:!0,features:[g],decls:2,vars:1,template:function(r,a){r&1&&(t(0,"h1"),n(1),i()),r&2&&(s(1),p(a.title))}});let m=o;return m})();var he=(()=>{let o=class o{constructor(e){this.http=e,this.roomList=[],this.getRooms$=this.http.get("api/rooms").pipe($(1)),console.log("Room Service Constructor")}getRooms(){return this.http.get("api/rooms")}addRoom(e){return this.http.post("api/rooms",e)}editRoom(e){return this.http.put(`api/rooms/${e.roomNumber}`,e)}deleteRoom(e){return this.http.delete(`api/rooms/${e}`)}getPhotos(){let e=new le("GET","https://jsonplaceholder.typicode.com/photos",{reportProgress:!0});return this.http.request(e)}};o.\u0275fac=function(r){return new(r||o)(M(pe))},o.\u0275prov=P({token:o,factory:o.\u0275fac,providedIn:"root"});let m=o;return m})();function ve(m,o){if(m&1&&(t(0,"p"),n(1),c(2,"json"),i()),m&2){let l=C();s(1),v("Selected Room: ",u(2,1,l.selectedRoom),"")}}function ye(m,o){m&1&&(t(0,"p"),n(1,"No room selected"),i())}function Se(m,o){if(m&1){let l=J();t(0,"div")(1,"app-room-list",6),R("selectedRoom",function(r){j(l);let a=C();return H(a.selectRoom(r))}),i()()}if(m&2){let l=o.ngIf,e=C();s(1),d("rooms",l)("title",e.title)}}function be(m,o){if(m&1&&(t(0,"p"),n(1),i()),m&2){let l=o.$implicit;s(1),p(l.price)}}function Ce(m,o){m&1&&(t(0,"p"),n(1,"No rooms"),i())}var _e=m=>({color:m}),Ae=(()=>{let o=class o{toggle(){this.hideRooms=!this.hideRooms,this.title="Rooms List"}constructor(e){this.roomService=e,this.hotelName="Hotel California",this.numberOfRooms=5,this.hideRooms=!1,this.rooms={totalRooms:20,availableRooms:10,bookedRooms:0},this.roomList=[],this.title="Room List",this.error$=new N,this.getError$=this.error$.asObservable(),this.rooms$=this.roomService.getRooms$.pipe(O(r=>(this.error$.next(r.message),B([])))),this.roomsCount$=this.roomService.getRooms$.pipe(L(r=>r.length)),this.totalBytes=0,this.stream=new F(r=>{r.next("user1"),r.next("user2"),r.next("user3"),r.next("user4"),r.complete()})}ngOnInit(){this.roomService.getPhotos().subscribe(e=>{switch(e.type){case S.Sent:{console.log("Request sent");break}case S.ResponseHeader:{console.log("Request success");break}case S.DownloadProgress:{this.totalBytes+=e.loaded;break}case S.Response:{console.log("Request completed"),console.log(e.body);break}}}),this.stream.subscribe({next:e=>{console.log(e)},complete:()=>{console.log("completed")},error:e=>{console.log(e)}}),this.stream.subscribe(e=>console.log(e))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}selectRoom(e){this.selectedRoom=e}addRoom(){let e={roomNumber:"104",roomType:"Deluxe",amenities:"AC, TV, WiFi, Water Heater",price:2e3,photos:"assets/images/deluxe.jpg",checkinTime:new Date("2021-01-01T12:00:00"),checkoutTime:new Date("2021-01-01T12:00:00"),rating:5.3};this.roomService.addRoom(e).subscribe(r=>{this.roomList=r})}ngDoCheck(){console.log("Room Component ngDoCheck")}ngAfterViewInit(){console.log(this.header),this.header.title="Rooms View",console.log(this.headers),this.headers.last.title="Last Rooms Header"}ngAfterViewChecked(){}editRoom(){let e={roomNumber:"3",roomType:"Deluxe",amenities:"AC, TV, WiFi, Water Heater",price:2e3,photos:"assets/images/deluxe.jpg",checkinTime:new Date("2021-01-01T12:00:00"),checkoutTime:new Date("2021-01-01T12:00:00"),rating:5.3};this.roomService.editRoom(e).subscribe(r=>{this.roomList=r})}deleteRoom(){this.roomService.deleteRoom("3").subscribe(e=>{this.roomList=e})}};o.\u0275fac=function(r){return new(r||o)(q(he))},o.\u0275cmp=f({type:o,selectors:[["app-room"]],viewQuery:function(r,a){if(r&1&&(I(T,5),I(T,5)),r&2){let h;k(h=w())&&(a.header=h.first),k(h=w())&&(a.headers=h)}},standalone:!0,features:[g],decls:35,vars:24,consts:[[3,"hidden"],[3,"innerText"],[3,"click"],[4,"ngIf"],[3,"ngStyle"],[1,"btn","btn-primary",3,"click"],[3,"rooms","title","selectedRoom"]],template:function(r,a){r&1&&(b(0,"app-header")(1,"app-header"),t(2,"div",0),n(3," Number of Rooms: "),b(4,"div",1),i(),t(5,"button",2),R("click",function(){return a.toggle()}),n(6,"Toggle"),i(),x(7,ve,3,3,"p")(8,ye,2,0),t(9,"h1"),n(10),c(11,"async"),i(),t(12,"h1"),n(13),c(14,"async"),i(),x(15,Se,2,2,"div",3),c(16,"async"),t(17,"div",4),n(18,` Green Text
`),i(),t(19,"div")(20,"button",5),R("click",function(){return a.addRoom()}),n(21,"Add Room"),i(),t(22,"button",5),R("click",function(){return a.editRoom()}),n(23,"Edit Room"),i(),t(24,"button",5),R("click",function(){return a.deleteRoom()}),n(25,"Delete Room"),i()(),n(26),c(27,"uppercase"),c(28,"slice"),G(29,be,2,1,"p",null,W,!1,Ce,2,0),t(32,"h1"),n(33),i(),b(34,"router-outlet")),r&2&&(s(2),d("hidden",a.hideRooms),s(2),d("innerText",a.numberOfRooms),s(3),Q(7,a.selectedRoom?7:8),s(3),p(u(11,10,a.getError$)),s(3),v("Number of rooms: ",u(14,12,a.roomsCount$),""),s(2),d("ngIf",u(16,14,a.rooms$)),s(2),d("ngStyle",_(22,_e,a.rooms.availableRooms>0?"green":"red")),s(9),v(" ",u(27,16,z(28,18,"hello world is good",0,11))," "),s(3),U(a.roomList),s(4),v(" ",a.totalBytes," loaded "))},dependencies:[E,Y,Z,ee,ie,ne,ae,ue,T,ce]});let m=o;return m})();export{he as a,Ae as b};
